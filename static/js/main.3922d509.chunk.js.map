{"version":3,"sources":["contexts/CurrentUserContext.js","contexts/HandleClickOnOverlayContext.js","utils/utils.js","utils/api.js","utils/auth.js","utils/translateError.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/Form.js","components/PopupWithForm.js","components/Input.js","components/useFormValidation.js","components/EditProfilePopup.js","components/ImagePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/PopupDeleteCard.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","HandleClickOnOverlayContext","apiData","api","baseUrl","authToken","authBaseUrl","this","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleResponse","newCard","method","body","JSON","stringify","cardId","isLiked","userData","name","about","avatar","auth","bind","token","email","password","translateError","error","Header","handleLogout","userEmail","loggedIn","pathname","useLocation","useState","burgerIsOpen","setBurgerIsOpen","className","to","onClick","aria-label","title","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","i","style","backgroundImage","link","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","map","item","Footer","Form","onSubmit","children","isFormValid","isSaving","buttonValues","isPopup","noValidate","default","disabled","PopupWithForm","isOpen","onClose","handleClickOnOverlay","Input","placeholder","minLength","maxLength","required","onChange","value","useFormValidation","values","setValues","errors","setErrors","setIsFormValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","target","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","useEffect","preventDefault","ImagePopup","src","alt","EditAvatarPopup","onUpdateAvatar","reset","AddPlacePopup","PopupDeleteCard","onDelete","ProtectedRoute","Component","component","props","Register","handleRegister","Login","handleLogin","InfoTooltip","message","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsSaving","cardToDelete","setCardToDelete","infoTooltipType","setInfoTooltipType","infoTooltipMessage","setInfoTooltipMessage","setLoggedIn","id","setUserData","history","useHistory","closeAllPopups","setTimeout","getUserInfo","catch","err","console","log","getCards","document","addEventListener","evt","key","localStorage","getItem","removeItem","Provider","currentTarget","push","exact","path","changeLikeCardStatus","state","c","register","login","setItem","jwt","getUserData","data","checkTokenAndGetUserData","updateUserAvatar","user","setUserInfo","addCard","deleteCard","filter","isSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3922d509.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();\r\n","import { createContext } from 'react';\n\nexport const HandleClickOnOverlayContext = createContext();\n","export const apiData = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-22',\n  authToken: 'de47b0cf-2796-425b-8528-a1fb4932903a',\n};\n","import { apiData } from './utils';\n\nclass Api {\n  constructor({baseUrl, authToken, authBaseUrl}) {\n    this.baseUrl = baseUrl;\n    this.authToken = authToken;\n  }\n\n  _handleResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: {\n        authorization: this.authToken,\n      },\n    }).then(res => this._handleResponse(res));\n  }\n\n  addCard(newCard) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this.authToken,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(newCard),\n    }).then(res => this._handleResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this.authToken,\n      },\n    }).then(res => this._handleResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: {\n        authorization: this.authToken,\n      },\n    }).then(res => this._handleResponse(res));\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: {\n        authorization: this.authToken,\n      },\n    }).then(res => this._handleResponse(res));\n  }\n\n  setUserInfo(userData) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authToken,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    }).then(res => this._handleResponse(res));\n  }\n\n  updateUserAvatar(userData) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this.authToken,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        avatar: userData.avatar,\n      }),\n    }).then(res => this._handleResponse(res));\n  }\n}\n\nconst api = new Api({\n  baseUrl: apiData.baseUrl,\n  authToken: apiData.authToken,\n});\n\nexport default api;\n","class Auth {\n  constructor({baseUrl}) {\n    this.baseUrl = baseUrl;\n  }\n\n  _handleResponse(res) {\n    //return res.ok ? res.json() : Promise.reject(res)\n    return res.ok ? res.json() : res.json().then(Promise.reject.bind(Promise))\n  }\n\n  getUserData (token) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n      .then(res => this._handleResponse(res))\n  }\n\n  register({email, password}) {\n    return fetch(`${this.baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({email, password})\n    })\n      .then(res => this._handleResponse(res))\n  }\n\n  login({email, password}) {\n    return fetch(`${this.baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({email, password})\n    })\n      .then(res => this._handleResponse(res))\n  }\n}\n\nconst auth = new Auth({\n  baseUrl: 'https://auth.nomoreparties.co'\n});\n\nexport default auth\n","const translateError = (error) => {\n  switch(error) {\n    case 'Incorrect email address or password':\n      return 'Неправильный Email или пароль.'\n    default :\n      return error\n  }\n}\n\nexport default translateError\n","import {Link, useLocation} from \"react-router-dom\";\nimport {useState} from \"react\";\n\nfunction Header({handleLogout, userEmail, loggedIn}) {\n  const {pathname} = useLocation();\n  const [burgerIsOpen, setBurgerIsOpen] = useState(false)\n\n  const handleClick = () => {\n    burgerIsOpen\n      ? setBurgerIsOpen(false)\n      : loggedIn && setBurgerIsOpen(true)\n  }\n\n  const handleBurgerLogout = () => {\n    setBurgerIsOpen(false);\n    handleLogout();\n  }\n\n  return (\n    <header className='header section section_centered'>\n      {loggedIn && burgerIsOpen && (\n        <div className={`header__menu-container`}>\n          <span className={`header__user-email desktop-hidden`}>{userEmail}</span>\n          <Link\n            to='./sign-in'\n            onClick={handleBurgerLogout}\n            className={`header__user-auth-link header__user-auth-link_gray header__user-auth-link_burger desktop-hidden`}\n          >\n            Выйти\n          </Link>\n        </div>\n      )\n      }\n      <div className=\"header__main-container\">\n        <Link\n          to={loggedIn ? '/' : './sign-in'}\n          className='header__logo'\n          aria-label='Логотип'\n          title='Mesto Russia'\n        />\n        <div\n          className={`header__user-container${loggedIn ? burgerIsOpen ? ' button-close button-close_desktop-hidden' : ' header__burger-menu' : ''}`}\n          onClick={handleClick}\n        >\n          {loggedIn\n            ? (\n              <>\n                <span className={`header__user-email mobile-hidden`}>{userEmail}</span>\n                <Link\n                  to='./sign-in'\n                  onClick={handleLogout}\n                  className={`header__user-auth-link header__user-auth-link_gray mobile-hidden`}\n                >\n                  Выйти\n                </Link>\n              </>\n            )\n            : (\n              <>\n                <Link\n                  to={`${pathname === '/sign-in' ? './sign-up' : './sign-in'}`}\n                  className='header__user-auth-link'\n                >\n                  {`${pathname === '/sign-in' ? 'Регистрация' : 'Вход'}`}\n                </Link>\n              </>\n            )\n          }\n        </div>\n      </div>\n\n    </header>\n  );\n}\n\nexport default Header;\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  function handleCardClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <li className='element'>\r\n      <div\r\n        style={{ backgroundImage: `url(${card.link})` }}\r\n        className='element__image'\r\n        onClick={handleCardClick}\r\n      />\r\n      {isOwn && (\r\n        <button\r\n          className='trash-button'\r\n          type='button'\r\n          aria-label='Удалить'\r\n          name='delete'\r\n          onClick={handleDeleteClick}\r\n        />\r\n      )}\r\n      <div className='element__bottom-container'>\r\n        <h2 className='element__title'>{card.name}</h2>\r\n        <div className='element__like-container'>\r\n          <button\r\n            className={`element__like-button${\r\n              isLiked ? ' element__like-button_active' : ''\r\n            }`}\r\n            type='button'\r\n            aria-label='Мне нравится'\r\n            name='like'\r\n            onClick={handleLikeClick}\r\n          />\r\n          <span\r\n            className={`element__like-counter ${\r\n              card.likes.length === 0 && 'element__like-counter_hidden'\r\n            }`}\r\n          >\r\n            {card.likes.length}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  cards,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='main'>\r\n      <section className='profile section section_centered'>\r\n        <div className='profile__avatar-container' onClick={onEditAvatar}>\r\n          <div\r\n            style={{ backgroundImage: `url(${currentUser.avatar})` }}\r\n            className='profile__avatar'\r\n          />\r\n        </div>\r\n\r\n        <div className='profile__info'>\r\n          <div className='profile__name-container'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button\r\n              className='profile__edit-button'\r\n              type='button'\r\n              aria-label='Редактировать профиль'\r\n              onClick={onEditProfile}\r\n            />\r\n          </div>\r\n          <p className='profile__description'>{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className='profile__add-button'\r\n          type='button'\r\n          aria-label='Добавить фото'\r\n          name='add-card'\r\n          onClick={onAddPlace}\r\n        />\r\n      </section>\r\n      <section\r\n        className='section section_centered'\r\n        aria-label='Фотографии пользователя'\r\n      >\r\n        <ul className='elements'>\r\n          {cards.map(item => (\r\n            <Card\r\n              key={item._id}\r\n              card={item}\r\n              onCardClick={onCardClick}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className='footer section section_centered'>\r\n      <p className='footer__copyright'>&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","const Form = ({\n  title,\n  name,\n  onSubmit,\n  children,\n  isFormValid,\n  isSaving,\n  buttonValues,\n  isPopup\n}) => {\n  return (\n    <form\n      className={`form${isPopup ? ' form_popup' : ''}`}\n      name={name}\n      onSubmit={onSubmit}\n      noValidate\n    >\n      <h2\n        className={`form__title${isPopup ? ' form__title_popup' : ''}`}\n      >\n        {title}\n      </h2>\n      {children}\n      <button\n        className={`form__button${isPopup?' form__button_popup':''}${(isFormValid) ? '' : isPopup ? ' form__button_disabled' : ''}`}\n        type='submit'\n        aria-label={buttonValues.default}\n        name={name}\n        disabled={!isFormValid}\n      >\n        {isSaving ? buttonValues.isSaving : buttonValues.default}\n      </button>\n    </form>\n  )\n}\n\nexport default Form\n","import Form from \"./Form\";\nimport { HandleClickOnOverlayContext } from \"../contexts/HandleClickOnOverlayContext\";\nimport {useContext} from \"react\";\n\nfunction PopupWithForm({\n                         title,\n                         name,\n                         isPopup,\n                         isOpen,\n                         onClose,\n                         onSubmit,\n                         children,\n                         isFormValid,\n                         isSaving,\n                         buttonValues,\n                       }) {\n  const handleClickOnOverlay = useContext(HandleClickOnOverlayContext);\n\n  return (\n    <div\n      className={`popup popup_type_${name}${isOpen ? ' popup_open' : ''}`}\n      onClick={handleClickOnOverlay}\n    >\n      <div className='popup__container popup__container_type_form'>\n        <button\n          className='popup__button-close'\n          type='button'\n          aria-label='Закрыть попап'\n          onClick={onClose}\n        />\n        <Form\n          title={title}\n          name={name}\n          isPopup={isPopup}\n          onSubmit={onSubmit}\n          isFormValid={isFormValid}\n          isSaving={isSaving}\n          buttonValues={buttonValues}\n        >\n          {children}\n        </Form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","const Input = ({type, name, placeholder, isPopup, minLength, maxLength, required, onChange, value, error}) => {\n    return (\n    <>\n      <input\n        type={type}\n        className={`form__input${isPopup ? ' form__input_popup' : ''}`}\n        name={name}\n        placeholder={placeholder}\n        minLength={minLength}\n        maxLength={maxLength}\n        required={required}\n        onChange={onChange}\n        value={value}\n      />\n      <span\n        className={`form__input-error${\n          error === '' ? '' : ' form__input-error_visible'\n        }`}\n      >\n          {error}\n        </span>\n    </>\n  )\n}\n\nexport default Input\n","import {useState, useCallback} from 'react';\n\nexport function useFormValidation() {\n  const [ values, setValues ] = useState({});\n  const [ errors, setErrors ] = useState({});\n  const [ isFormValid, setIsFormValid ] = useState(true);\n\n  const handleChange = (e) => {\n    const {name, value} = e.target\n    setValues({...values, [name]: value });\n    setErrors({...errors, [name]: e.target.validationMessage});\n    setIsFormValid(e.target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback((\n    newValues = {},\n    newErrors = {},\n    newIsValid = false\n  ) => {\n    setValues(newValues);\n    setErrors(newErrors);\n    setIsFormValid(newIsValid);\n  }, [setValues, setErrors, setIsFormValid]);\n\n  return {values,\n    handleChange,\n    errors,\n    isFormValid,\n    resetForm,\n    setValues,\n    setIsFormValid};\n}\n","import PopupWithForm from './PopupWithForm';\nimport {useContext, useEffect} from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport Input from \"./Input\";\nimport {useFormValidation} from \"./useFormValidation\";\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isSaving, handleClickOnOverlay}) {\n  const currentUser = useContext(CurrentUserContext);\n  const {values, setValues, errors, isFormValid, setIsFormValid, handleChange, resetForm} = useFormValidation()\n\n  useEffect(() => {\n    resetForm();\n    setValues(currentUser);\n    setIsFormValid(true);\n  }, [isOpen, currentUser, setIsFormValid, resetForm, setValues]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser(values);\n  }\n\n  return (\n    <PopupWithForm\n      name='edit-form'\n      title='Редактировать профиль'\n      isPopup={true}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isFormValid={isFormValid}\n      isSaving={isSaving}\n      buttonValues={{isSaving: 'Сохранение...', default: 'Сохранить'}}\n    >\n      <Input\n        name='name'\n        placeholder='Имя'\n        type='text'\n        isPopup={true}\n        minLength='2'\n        maxLength='40'\n        required={true}\n        onChange={handleChange}\n        value={values.name || ''}\n        error={errors.name || ''}\n      />\n      <Input\n        name='about'\n        placeholder='О себе'\n        type='text'\n        isPopup={true}\n        minLength='2'\n        maxLength='200'\n        required={true}\n        onChange={handleChange}\n        value={values.about || ''}\n        error={errors.about || ''}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { HandleClickOnOverlayContext } from \"../contexts/HandleClickOnOverlayContext\";\nimport {useContext} from \"react\";\n\nfunction ImagePopup({ card, isOpen, onClose }) {\n  const handleClickOnOverlay = useContext(HandleClickOnOverlayContext);\n\n  return (\n    <div\n      className={`popup popup_type_big-picture${isOpen ? ' popup_open' : ''}`}\n      onClick={handleClickOnOverlay}\n    >\n      <div className='popup__container'>\n        <button\n          className='popup__button-close'\n          type='button'\n          aria-label='Закрыть попап'\n          onClick={onClose}\n        />\n        <figure className='figure'>\n          <img src={card.link} alt={card.name} className='big-image' />\n          <figcaption className='big-image-caption'>{card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import PopupWithForm from './PopupWithForm';\nimport { useEffect } from 'react';\nimport {useFormValidation} from \"./useFormValidation\";\nimport Input from \"./Input\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSaving }) {\n  const { errors, values, isFormValid, handleChange, resetForm } = useFormValidation()\n  useEffect(() => resetForm(), [resetForm, isOpen])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: values.avatar,\n    });\n    e.target.reset();\n    resetForm()\n  }\n\n  return (\n    <PopupWithForm\n      name='update-avatar'\n      title='Обновить аватар'\n      isOpen={isOpen}\n      isPopup={true}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isFormValid={isFormValid}\n      isSaving={isSaving}\n      buttonValues={{ isSaving: 'Сохранение...', default: 'Сохранить' }}\n    >\n      <Input\n        type='url'\n        name='avatar'\n        isPopup={true}\n        placeholder='Ссылка на изображение'\n        required\n        onChange={handleChange}\n        value={values.avatar || ''}\n        error={errors.avatar || ''}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from './PopupWithForm';\nimport { useEffect } from 'react';\nimport Input from \"./Input\";\nimport {useFormValidation} from \"./useFormValidation\";\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isSaving }) {\n  const {values, errors, isFormValid, handleChange, resetForm} = useFormValidation()\n  useEffect(() => resetForm(), [resetForm])\n\n  useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace(values);\n  }\n\n  return (\n    <PopupWithForm\n      name='add-card-form'\n      title='Новое место'\n      isPopup={true}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isFormValid={isFormValid}\n      isSaving={isSaving}\n      buttonValues={{ isSaving: 'Создание...', default: 'Создать' }}\n    >\n      <Input\n        type='text'\n        name='name'\n        isPopup={true}\n        placeholder='Название'\n        minLength='2'\n        maxLength='30'\n        required\n        onChange={handleChange}\n        value={values.name || ''}\n        error={errors.name || ''}\n      />\n      <Input\n        type='url'\n        name='link'\n        isPopup={true}\n        placeholder='Ссылка на картинку'\n        required\n        onChange={handleChange}\n        value={values.link || ''}\n        error={errors.link || ''}\n      />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import PopupWithForm from './PopupWithForm';\n\nfunction PopupDeleteCard({ isOpen, onClose, isSaving, card, onDelete }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDelete(card);\n  }\n\n  return (\n    <PopupWithForm\n      name='card-delete'\n      title='Уверены?'\n      isOpen={isOpen}\n      isPopup={true}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isSaving={isSaving}\n      isFormValid={true}\n      buttonValues={{ isSaving: 'Удаление...', default: 'Удалить' }}\n    />\n  );\n}\n\nexport default PopupDeleteCard;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","import {useEffect} from \"react\";\nimport Form from \"./Form\";\nimport {Link} from \"react-router-dom\";\nimport Input from \"./Input\";\nimport {useFormValidation} from \"./useFormValidation\";\n\nconst Register = ({handleRegister, isSaving, isPopup}) => {\n  const {values, errors, isFormValid, handleChange, resetForm} = useFormValidation()\n  useEffect(() => resetForm(), [resetForm])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = values;\n    handleRegister({ email, password });\n    resetForm();\n  }\n\n  return (\n    <main className='main section section_centered form__container'>\n      <Form\n        title='Регистрация'\n        name='register'\n        isPopup={isPopup}\n        onSubmit={handleSubmit}\n        isFormValid={isFormValid}\n        isSaving={isSaving}\n        buttonValues={{ isSaving: 'Регистрация...', default: 'Зарегистрироваться' }}\n      >\n        <Input\n          name='email'\n          placeholder='Email'\n          type='email'\n          isPopup={isPopup}\n          minLength='2'\n          maxLength='40'\n          required={true}\n          onChange={handleChange}\n          value={values.email || ''}\n          error={errors.email || ''}\n        />\n        <Input\n          name='password'\n          placeholder='Пароль'\n          type='password'\n          isPopup={isPopup}\n          minLength='6'\n          maxLength='40'\n          required={true}\n          onChange={handleChange}\n          value={values.password || ''}\n          error={errors.password || ''}\n        />\n      </Form>\n      <span\n        className='form__bottom-text'\n      >\n        Уже зарегистрированы? {' '}\n        <Link to='/sign-in' className='form__bottom-link'>\n          Войти\n        </Link>\n      </span>\n    </main>\n  )\n}\n\nexport default Register\n","import {useFormValidation} from \"./useFormValidation\";\nimport Form from \"./Form\";\nimport Input from \"./Input\";\nimport {useEffect} from \"react\";\n\nconst Login = ({handleLogin, isSaving, isPopup}) => {\n  const {values, errors, isFormValid, handleChange, resetForm} = useFormValidation()\n  useEffect(() => resetForm(), [resetForm])\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const {email, password} = values;\n    handleLogin({email, password});\n  }\n\n  return (\n    <main className='main section section_centered form__container'>\n      <Form\n        title='Вход'\n        name='login'\n        isPopup={isPopup}\n        onSubmit={handleSubmit}\n        isFormValid={isFormValid}\n        isSaving={isSaving}\n        buttonValues={{ isSaving: 'Вход...', default: 'Войти' }}\n      >\n        <Input\n          name='email'\n          placeholder='Email'\n          type='email'\n          isPopup={isPopup}\n          minLength='1'\n          maxLength='40'\n          required={true}\n          onChange={handleChange}\n          value={values.email || ''}\n          error={errors.email || ''}\n        />\n        <Input\n          name='password'\n          placeholder='Пароль'\n          type='password'\n          isPopup={isPopup}\n          minLength='1'\n          maxLength='40'\n          required={true}\n          onChange={handleChange}\n          value={values.password || ''}\n          error={errors.password || ''}\n        />\n      </Form>\n    </main>\n  )\n}\n\nexport default Login\n","import { HandleClickOnOverlayContext } from \"../contexts/HandleClickOnOverlayContext\";\nimport {useContext} from \"react\";\n\nconst InfoTooltip = (\n  {\n    type,\n    isOpen,\n    onClose,\n    message\n  }) => {\n  const handleClickOnOverlay = useContext(HandleClickOnOverlayContext);\n\n\n  return (\n    <div\n      className={`popup${isOpen ? ' popup_open' : ''}`}\n      onClick={handleClickOnOverlay}\n    >\n      <div className='popup__container popup__container_type_form'>\n        <button\n          className='popup__button-close popup__button-close_mobile-centered'\n          type='button'\n          aria-label='Закрыть попап'\n          onClick={onClose}\n        />\n        <div className={`popup__image${type ? ` popup__image_type_${type}` : ''}`}>\n\n        </div>\n        <p className='popup__message'>\n          {message}\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;\n","import React, { useState, useEffect } from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { HandleClickOnOverlayContext } from '../contexts/HandleClickOnOverlayContext';\nimport api from '../utils/api';\nimport auth from \"../utils/auth\";\nimport translateError from \"../utils/translateError\";\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport ImagePopup from './ImagePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport PopupDeleteCard from './PopupDeleteCard';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Register from \"./Register\";\nimport Login from \"./Login\";\nimport InfoTooltip from \"./InfoTooltip\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false)\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isSaving, setIsSaving] = useState(false);\n  const [cardToDelete, setCardToDelete] = useState({});\n  const [infoTooltipType, setInfoTooltipType] = useState('')\n  const [infoTooltipMessage, setInfoTooltipMessage] = useState('')\n  const [loggedIn, setLoggedIn] = useState(false)\n  const [userData, setUserData] = useState({\n    email: '',\n    id: '',\n  })\n\n  const history = useHistory();\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then(res => {\n        setCurrentUser(res);\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    api\n      .getCards()\n      .then(res => {\n        setCards(res);\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    function handleEscClose(evt) {\n      evt.key === 'Escape' && closeAllPopups();\n    }\n    document.addEventListener('keydown', handleEscClose);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  // По заданию при повторном визите\n  // пользователи не должны вновь авторизовываться.\n  // Поэтому удаляем токен, даже если он остался\n  // после закрытия окна:\n  useEffect(() => {\n    localStorage.getItem('jwt') && localStorage.removeItem('jwt')\n  }, [])\n  // хотя логичнее было бы сразу залогинить\n\n\n  const checkTokenAndGetUserData = () => {\n    if (localStorage.getItem('jwt')) {\n      const jwt = localStorage.getItem('jwt');\n      auth.getUserData(jwt)\n        .then(res => {\n          if (res) {\n            setLoggedIn(true);\n            setUserData({id: res.data._id, email: res.data.email})\n          }\n        })\n        .catch(err => {\n          console.log(err)\n        });\n    }\n  }\n  // Будет автологин, когда перестанем удалять токен при открытии окна\n  // eslint-disable-next-line\n  //useEffect(() => checkTokenAndGetUserData(), [])\n\n  const resetInfoTooltip = () => {\n    setInfoTooltipType('')\n    setInfoTooltipMessage('')\n  }\n\n  const handleRegister = (userData) => {\n    setIsSaving(true);\n    auth.register(userData)\n      .then(res => {\n        if (res) {\n          setIsSaving(false)\n          setInfoTooltipType('success');\n          setInfoTooltipMessage('Вы успешно зарегистрировались!')\n          setIsInfoTooltipPopupOpen(true);\n          setTimeout(() => {\n            history.push('/sign-in');\n            closeAllPopups();\n          }, 5000);\n\n          // можно сразу залогинить и отправить на главную\n          //handleLogin(userData);\n          //history.push('/');\n        }\n      })\n      .catch(err => {\n        if (err) {\n          setIsSaving(false)\n          setInfoTooltipType('error');\n          setInfoTooltipMessage(`${err.error || err.message}.\n          Попробуйте ещё раз.`)\n          setIsInfoTooltipPopupOpen(true);\n        }\n      });\n  }\n\n  const handleLogin = ({email, password}) => {\n    setIsSaving(true);\n    auth.login({email, password})\n      .then(res => {\n        if (res) {\n          localStorage.setItem('jwt', res.token);\n          setLoggedIn(true);\n          checkTokenAndGetUserData();\n          setIsSaving(false);\n        }\n      })\n      .catch(err => {\n        setIsSaving(false)\n        setInfoTooltipType('error');\n        setInfoTooltipMessage(\n          translateError(err.error || err.message)\n        )\n        setIsInfoTooltipPopupOpen(true);\n      });\n  }\n\n  const handleLogout = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setUserData({\n      email: '',\n      id: '',\n    });\n    history.push('/sign-in');\n  }\n\n  const handleClickOnOverlay = (e) => {\n    e.target === e.currentTarget && closeAllPopups();\n  }\n\n  function handleDeleteCardClick(card) {\n    setCardToDelete(card);\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipPopupOpen(false);\n    setSelectedCard({});\n    resetInfoTooltip();\n    setTimeout(() => setIsSaving(false), 300);\n  }\n\n  const closeInfoTooltipPopup = (isSuccess) => {\n    isSuccess && history.push('/sign-in')\n    closeAllPopups()\n  }\n\n  const handleUpdateUser = (user) => {\n    setIsSaving(true);\n    api\n      .setUserInfo(user)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleUpdateAvatar = (userData) => {\n    setIsSaving(true);\n    api\n      .updateUserAvatar(userData)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then(newCard => {\n        setCards(state => state.map(c => (c._id === card._id ? newCard : c)));\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleCardDelete = (card) => {\n    setIsSaving(true);\n    api\n      .deleteCard(card._id)\n      .then(res => {\n        setCards(cards.filter(item => item._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  const handleAddPlaceSubmit = (newCard) => {\n    setIsSaving(true);\n    api\n      .addCard(newCard)\n      .then(res => {\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n  return (\n    <HandleClickOnOverlayContext.Provider value={handleClickOnOverlay}>\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className='page'>\n          <Header\n            handleLogout={handleLogout}\n            userEmail={userData.email}\n            loggedIn={loggedIn}\n          />\n          <Switch>\n            <ProtectedRoute\n              exact\n              path='/'\n              loggedIn={loggedIn}\n              component={Main}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteCardClick}\n              cards={cards}\n            />\n            <Route path=\"/sign-up\">\n              <Register\n                handleRegister={handleRegister}\n                isSaving={isSaving}\n                isPopup={false}\n              />\n            </Route>\n            <Route path=\"/sign-in\">\n              {loggedIn && <Redirect to='/'/>}\n              <Login\n                handleLogin={handleLogin}\n                isSaving={isSaving}\n                isPopup={false}\n              />\n            </Route>\n            <Route path=\"*\">\n              <Redirect to={loggedIn ? '/' : '/sign-in'}/>\n            </Route>\n          </Switch>\n          <Footer />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isSaving={isSaving}\n          />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isSaving={isSaving}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            isSaving={isSaving}\n          />\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isImagePopupOpen}\n            onClose={closeAllPopups}\n          />\n          <PopupDeleteCard\n            isOpen={isDeleteCardPopupOpen}\n            onDelete={handleCardDelete}\n            card={cardToDelete}\n            onClose={closeAllPopups}\n            isSaving={isSaving}\n          />\n          <InfoTooltip\n            isOpen={isInfoTooltipPopupOpen}\n            onClose={closeInfoTooltipPopup}\n            type={infoTooltipType}\n            message={infoTooltipMessage}\n          />\n        </div>\n      </CurrentUserContext.Provider>\n    </HandleClickOnOverlayContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}